"use strict";document.addEventListener("DOMContentLoaded",function(){pull("btn_one","menu_one"),pull("btn_two","menu_two"),pull("btn","box"),pull3("icart_left","Jcart_noItem"),option("subnav"),option2("sale_box"),pull2("bk"),ceiling("former","backtop");var a=document.querySelector("#list_sort"),c=document.querySelector("#page"),n=document.querySelector("#reset"),e=document.querySelector("#sales"),t=document.querySelector("#store"),i=document.querySelector("#newprice_asc"),p=document.querySelector("#newprice_desc");function r(n){var e=n.datalist.map(function(n){return' <li data-id="'+n.id+'">\n                        <a href="./detail?gid='+n.gid+'" target="blank">\n                            <img class="urlimg" src="../'+n.urlimg+'"/>\n                        </a>\n                        <p class="name">'+n.name+'</p>\n                        <p class="title">'+n.title+'</p>\n                        <p class="newprice">￥'+n.newprice+'</p>\n                        <p class="cost">\n                            <span class="an">快速购买</span>\n                            <span class="an">加入购物车</span>\n                        </p>\n                    </li>'}).join("");a.innerHTML=e}ajax("GET","../api/list.php","page=1&qty=20",function(n){var e=JSON.parse(n);r(e);for(var a=Math.ceil(e.total/e.qty),t="",i=0;i<a;i++)t+="<span>"+(i+1)+"</span>";c.innerHTML=t,c.children[0].className="active"}),c.onclick=function(n){if("span"==(n=n||window.event).target.tagName.toLowerCase()){var a=n.target.innerText;ajax("GET","../api/list.php","page="+a+"&qty=20",function(n){r(JSON.parse(n));for(var e=0;e<c.children.length;e++)c.children[e].className="";c.children[a-1].className="active"})}},n.onclick=function(){ajax("GET","../api/list.php","page=1&qty=20",function(n){r(JSON.parse(n))})},e.onclick=function(){ajax("GET","../api/list.php","page=1&qty=20&rank=1",function(n){r(JSON.parse(n))})},t.onclick=function(){ajax("GET","../api/list.php","page=1&qty=20&rank=2",function(n){r(JSON.parse(n))})},i.onclick=function(){ajax("GET","../api/list.php","page=1&qty=20&rank=3",function(n){r(JSON.parse(n))})},p.onclick=function(){ajax("GET","../api/list.php","page=1&qty=20&rank=4",function(n){r(JSON.parse(n))})}});